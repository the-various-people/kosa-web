<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>ÎàÑÏ†Å ÏûÖÎ†• ÏõπÏï±</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      max-width: 1000px;
      margin: 24px auto;
      padding: 0 16px;
      background: #fafafa;
    }
    h1, h2 {
      margin-top: 24px;
    }
    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
      background: #fff;
      padding: 16px;
      border-radius: 8px;
    }
    label {
      font-size: 13px;
      color: #444;
    }
    input, select, textarea, button {
      width: 100%;
      margin-top: 6px;
      padding: 10px;
      font-size: 14px;
      box-sizing: border-box;
    }
    textarea {
      grid-column: 1 / -1;
      resize: vertical;
    }
    button {
      grid-column: 1 / -1;
      cursor: pointer;
    }
    .toolbar {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
      margin: 12px 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      font-size: 13px;
      text-align: left;
    }
    th {
      background: #f0f0f0;
    }
  </style>

  <script type="module">
     console.log("SCRIPT START ‚úÖ");
  document.body.insertAdjacentHTML(
    "afterbegin",
    "<div style='padding:10px;background:#fffae6;font-weight:bold'>SCRIPT RUNNING ‚úÖ</div>"
  );
    import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

    // üî¥ Ïó¨Í∏∞Î•º Î≥∏Ïù∏ Supabase Í∞íÏúºÎ°ú ÍµêÏ≤¥ÌïòÏÑ∏Ïöî
    const SUPABASE_URL = "https://grdsptwybaohkoufmdnh.supabase.co";
    const SUPABASE_ANON_KEY = "sb_publishable_LuohhaYsMvs4DtpWSL_-uA_h8PxWhDB";

    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    const $ = (id) => document.getElementById(id);

    async function addEntry(e) {
      e.preventDefault();

      const payload = {
        date: $("date").value || null,
        type: $("type").value,
        name: $("name").value,
        school: $("school").value,
        amount: $("amount").value ? Number($("amount").value) : null,
        manager: $("manager").value,
        status: $("status").value,
        memo: $("memo").value
      };

      const { error } = await supabase.from("entries").insert([payload]);

      if (error) {
        alert("Ï†ÄÏû• Ïã§Ìå®: " + error.message);
        return;
      }

      e.target.reset();
      loadList();
    }

    async function loadList() {
      const { data, error } = await supabase
        .from("entries")
        .select("*")
        .order("created_at", { ascending: false })
        .limit(100);

      if (error) {
        alert("Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®: " + error.message);
        return;
      }

      const tbody = $("tbody");
      tbody.innerHTML = "";

